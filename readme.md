## 网格交易平台需求文档

### 一、核心功能概述
1. **数据管理**
   - 从`data.json`文件异步加载标的物数据
   - 支持数据刷新功能（实时重新加载最新数据）
   - 数据导出功能（导出为JSON格式文件）

2. **标的物列表展示**
   - 表格形式展示所有标的物
   - 每行包含完整标的物信息
   - 响应式设计适配不同屏幕尺寸

3. **关键指标卡片**
   - 平台标的数量（含增长趋势）
   - 平均年化收益（含环比变化）
   - 平均波动率（含环比变化）

4. **专业数据可视化**
   - 日K线图直接展示（非缩略图）
   - 使用真实价格数据绘制折线图
   - 自适应图表高度（桌面端200px，移动端120-150px）

5. **智能排序功能**
   - 波动率排序（按月波动率）
   - 估值水平排序
   - 双箭头视觉指示器（升序/降序状态高亮）

6. **估值评估系统**
   - 可视化估值指示器（0-100线性刻度）
   - 三色估值状态标识（低/中/高）
   - 动态估值指针定位

7. **波动率分析**
   - 四级波动率展示（日/周/月/年）
   - 颜色标识波动风险（绿/黄/红）
   - 数值对比展示

### 二、数据结构规范
```json
[
  {
    "id": 1,
    "name": "标的名称",
    "code": "标的代码",
    "rating": "信用评级",
    "dailyVol": 1.8,
    "weeklyVol": 4.2,
    "monthlyVol": 12.5,
    "yearlyVol": 26.8,
    "valuation": 35,
    "valuationStatus": "low/mid/high",
    "valuationText": "估值描述",
    "yield": 6.8,
    "avgYield": 5.2,
    "basePrice": 105,
    "volatility": 1.5,
    "priceData": [
      {"date": "MM-DD", "price": 105.2},
      ...
    ]
  },
  ...
]
```

### 三、交互功能说明
1. **数据操作**
   - `刷新数据`：从data.json重新加载最新数据
   - `导出数据`：导出当前列表为JSON文件（含时间戳文件名）

2. **排序交互**
   - 点击"波动率"表头：按月波动率排序（升序/降序切换）
   - 点击"估值水平"表头：按估值数值排序（升序/降序切换）
   - 视觉反馈：激活的排序方向箭头高亮显示

3. **K线图特性**
   - 自动渲染完整价格走势
   - 颜色标识涨跌（绿色上涨，红色下跌）
   - 自适应数据范围（自动计算min/max）

### 四、UI/UX设计规范
1. **视觉风格**
   - 专业金融平台风格（蓝白主色调）
   - 卡片式布局带悬停效果
   - 渐变背景与柔和阴影

2. **响应式设计**
   - 桌面端：三列KPI卡片，完整表格展示
   - 平板端：调整图表高度为150px
   - 手机端：单列KPI卡片，简化表格元素

3. **数据可视化**
   - 估值指示器：三色渐变（绿-黄-红）
   - 波动率：四级分类展示
   - K线图：简洁折线，无数据点标记

### 五、技术实现
1. **核心库**
   - Bootstrap 5 (UI框架)
   - Chart.js (数据可视化)
   - Font Awesome (图标系统)

2. **架构特点**
   - 纯前端实现（无后端依赖）
   - 模块化JavaScript
   - 异步数据加载（fetch API）

3. **性能优化**
   - 按需渲染图表
   - 数据懒加载
   - 防抖处理（排序操作）

### 六、待扩展功能
1. 标的物筛选（按评级/波动率范围）
2. 详细数据分析面板（点击行展开）
3. 网格策略模拟器（参数设置+收益预测）
4. 实时数据更新（WebSocket集成）
5. 用户自定义关注列表

### 七、使用场景
1. 投资者快速筛选高波动性标的
2. 量化交易员分析历史价格走势
3. 金融研究员评估市场估值水平
4. 个人投资者制定网格交易策略
5. 投资教育场景演示交易原理

> 此文档基于当前实现版本(v1.1)，后续迭代将在此基础上增加新功能模块。